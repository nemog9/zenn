---
title: "WSL2ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’oh-my-poshã§ã„ã„æ„Ÿã˜ã«ã™ã‚‹"
emoji: "ğŸ¥"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["wsl2", "windows11"]
published: true
---

WSL2ã®Ubuntuã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã€å‘³æ°—ãªã„ã§ã™ã‚ˆã­ã€‚

![](/images/wsl2-oh-my-posh07.png)

oh-my-poshã‚’å°å…¥ã—ã¦ã„ã„æ„Ÿã˜ã«ã—ã¾ã—ãŸã®ã§ç´¹ä»‹ã—ã¾ã™ã€‚

## ã‚´ãƒ¼ãƒ«

![](/images/wsl2-oh-my-posh01.png)

![](/images/wsl2-oh-my-posh02.png)

## æ‰‹é †

1. Nerd Fontã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹
2. oh-my-poshã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ãŸã‚ã«Homebrewã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹
3. Homebrewã§oh-my-poshã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹
4. ãƒ†ãƒ¼ãƒã‚’é¸ã‚“ã§`$HOME`ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹
5. `.profile`ã«è¨­å®šã‚’è¿½åŠ ã™ã‚‹
6. VSCodeã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ã‚‚é©ç”¨ã•ã‚Œã‚‹ã‚ˆã†ã«è¨­å®šã™ã‚‹

## 1. Nerd Fontã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹

ã¾ãšã€oh-my-poshã§ä½¿ã†Nerd Fontã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

Nerd Fontã¯ãƒ–ãƒ©ãƒ³ãƒã®ã‚¢ã‚¤ã‚³ãƒ³ãªã©ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã«åˆ©ç”¨ã—ã¾ã™ã€‚

https://www.nerdfonts.com/font-downloads

ä»Šå›ã¯Hackã¨ã„ã†ãƒ•ã‚©ãƒ³ãƒˆã«Nerd Fontã‚’è¿½åŠ ã—ãŸã‚‚ã®ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚

![](/images/wsl2-oh-my-posh03.png)

ã“ã®ç”»é¢ã‹ã‚‰ãƒ•ã‚©ãƒ³ãƒˆã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒè¦‹ã‚Œã¾ã™ãŒã€ã“ã‚Œã¯Nerd Fontã˜ã‚ƒãªãã¦Hackã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«ãªã‚‹ã®ã§æ³¨æ„ã€‚

ã“ã®ãƒšãƒ¼ã‚¸ã®Websiteã¨ã„ã†ã¨ã“ã‚ã‚’æŠ¼ã—ã¦ãƒ•ã‚©ãƒ³ãƒˆã‚’å…¥ã‚Œã¦ã‚‚ã€Nerd Fontã¯å…¥ã£ã¦ã¾ã›ã‚“ã€‚ï¼ˆä¸€æ•—ï¼‰

https://www.programmingfonts.org/#hack

ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚‚ã®ã‚’è§£å‡ã—ã€ãƒ•ã‚©ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

![](/images/wsl2-oh-my-posh04.png)

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ãã€è¨­å®šã‹ã‚‰`Hack Nerd Font`ã‚’é¸æŠã—ã¾ã™ã€‚

![](/images/wsl2-oh-my-posh05.png)

## 2. Homebrewã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹

ä»¥ä¸‹ã®é€šã‚ŠHomebrewã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™

https://brew.sh/

```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

ä»¥ä¸‹ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚è€ƒã«ãƒ‘ã‚¹ã‚’é€šã—ã¾ã™ã€‚

https://docs.brew.sh/Homebrew-on-Linux#install

```bash
test -d ~/.linuxbrew && eval "$(~/.linuxbrew/bin/brew shellenv)"
test -d /home/linuxbrew/.linuxbrew && eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
test -r ~/.bash_profile && echo "eval \"\$($(brew --prefix)/bin/brew shellenv)\"" >> ~/.bash_profile
echo "eval \"\$($(brew --prefix)/bin/brew shellenv)\"" >> ~/.profile
```

## 3. oh-my-poshã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹

ä»¥ä¸‹ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚è€ƒã«ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’è¡Œã„ã¾ã™ã€‚

https://ohmyposh.dev/docs/installation/linux

```bash
brew install jandedobbeleer/oh-my-posh/oh-my-posh
```

è‡ªåˆ†ã®ç’°å¢ƒã®å ´åˆã€ã“ã“ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚

```
Error: The following formula cannot be installed from bottle and must be built from source.
 ã€€oh-my-posh
Install Clang or run `brew install gcc`
```

ã¨ã„ã†ã“ã¨ã§`gcc`ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash
brew install gcc
```

ã—ã‹ã—ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå®Œäº†ã—ãŸã®ã«åŒã˜ã‚¨ãƒ©ãƒ¼ã®ã¾ã¾ã§ã—ãŸã€‚

èª¿ã¹ã¦ã¿ã‚‹ã¨`build-essential`ã¨ã„ã†ã‚‚ã®ãŒå¿…è¦ã ã£ãŸã¿ãŸã„ã§ã™ã€‚

https://github.com/JanDeDobbeleer/oh-my-posh/issues/1325

ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash
sudo apt install build-essential
```

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã®å¾Œã€å†åº¦oh-my-poshã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash
brew install jandedobbeleer/oh-my-posh/oh-my-posh
```

ã“ã‚Œã§oh-my-poshã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯å®Œäº†ã§ã™ã€‚

## 4. ãƒ†ãƒ¼ãƒã‚’é¸ã¶

ä»¥ä¸‹ã®ãƒšãƒ¼ã‚¸ã‹ã‚‰å¥½ã¿ã®ãƒ†ãƒ¼ãƒã‚’é¸ã³ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’`$HOME`ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚

ã‚³ãƒ”ãƒ¼ã—ãªãã¦ã‚‚ãƒ‘ã‚¹ã‚’æŒã£ã¦ãŠãã ã‘ã§ã‚‚ã„ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

https://ohmyposh.dev/docs/themes

ä»Šå›ã¯`tokyonight_storm`ã¨ã„ã†ã‚‚ã®ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚

```bash
cd $(brew --prefix oh-my-posh)
cp themes/tokyonight_storm.omp.json ~/tokyonight_storm.omp.json
```

## 5. `.profile`ã«è¨­å®šè¿½åŠ 

æ¬¡ã«`~/.profile`ãƒ•ã‚¡ã‚¤ãƒ«ã«bashèµ·å‹•æ™‚ã«oh-my-poshã‚’å®Ÿè¡Œã™ã‚‹è¨­å®šã‚’è¿½åŠ ã—ã¾ã™ã€‚

```bash
eval "$(oh-my-posh init bash --config ~/tokyonight_storm.omp.json)"
```

ã“ã‚Œã§ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¢ãƒ—ãƒªã®è¨­å®šã¯å®Œäº†ã§ã™ã€‚æ–°ã—ãã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ã„ã¦åæ˜ ã•ã‚Œã¦ã„ã‚Œã°OKã§ã™ã€‚

## 6. VSCodeã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ã‚‚é©ç”¨ã™ã‚‹

ä»Šã®ã¾ã¾ã ã¨VSCodeã§é–‹ãã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã¯ãã®ã¾ã¾ã«ãªã£ã¦ã„ã¾ã™ã€‚

ã¾ãšã¯è¨­å®šã‹ã‚‰ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ãƒ•ã‚©ãƒ³ãƒˆã‚’`Hack Nerd Font`ã«å¤‰æ›´ã—ã¾ã™ã€‚

![](/images/wsl2-oh-my-posh06.png)

æ¬¡ã«ã€ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆã‚’ä½¿ã£ã¦`settings.json`ã‚’é–‹ãã€ä»¥ä¸‹ã®è¨­å®šã‚’è¿½åŠ ã—ã¾ã™ã€‚

```json
  "terminal.integrated.profiles.linux": {
    "bash": {
      "path": "bash",
      "icon": "terminal-bash",
      "args": ["-l"],
    },
    "zsh": {
      "path": "zsh"
    },
    "fish": {
      "path": "fish"
    },
    "tmux": {
      "path": "tmux",
      "icon": "terminal-tmux"
    },
    "pwsh": {
      "path": "pwsh",
      "icon": "terminal-powershell"
    }
  },
  "terminal.integrated.defaultProfile.linux": "bash"
```

VSCodeã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’æ–°ã—ãé–‹ã„ã¦ã€åæ˜ ã•ã‚Œã¦ã„ã‚Œã°å®Œäº†ã§ã™ï¼

ãŠç–²ã‚Œã•ã¾ã§ã—ãŸï¼

## å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚µã‚¤ãƒˆ

https://learn.microsoft.com/ja-jp/windows/terminal/tutorials/custom-prompt-setup#install-a-nerd-font

https://qiita.com/y-vectorfield/items/88d21202066807936655
